<!-- 
    Hochschule Harz 
    Fachbereich Automatisierung und Informatik

    Autor: Dominik Strutz
 -->

<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="robots" content="noindex,nofollow">
    <meta name="theme-color" content="#111">
	<meta name="msapplication-navbutton-color" content="#111">
    <meta name="format-detection" content="telephone=no">
    <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
    <script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>
    <script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
    <script type="module" src="/static/ar-food_client.js"></script>
    <title><%= title %></title>
</head>
    <body style='margin : 0px; overflow: hidden;'>
        <a-scene stats gltf-model="dracoDecoderPath: /static/draco/;" artoolkit embedded arjs="sourceType: webcam; detectionMode: mono_and_matrix; matrixCodeType: 3x3; debugUIEnabled: true;" loading-screen="backgroundColor: black; dotsColor: #009688;">

            <a-assets id="assets" timeout="20000">
                <a-asset-item id="<%= modelName %>" data-scale="<%= model.scale %>" data-position="<%= model.position %>" data-rotation="<%= model.rotation %>" src=<%= model.model %> ></a-asset-item>
                <a-asset-item id="rulerModel" src="/static/models/ruler_drc.gltf"></a-asset-item>
            </a-assets>

            <a-marker preset="hiro" id="marker-main" registerevents>
                <a-text value="" id="placeholder" position="-0.1 0 0"></a-text>
                <a-entity id="entity" gltf-model="#<%= modelName %>" position="<%= model.position %>" scale="<%= model.scale %>" rotation="<%= model.rotation %>"></a-entity>
                <a-entity id="ruler" gltf-model="#rulerModel" position="-0.8 0 0.1" scale="0.01 0.01 0.01" rotation="90 180 90"></a-entity>
            </a-marker>
        
            <a-entity camera></a-entity>
        </a-scene>

        <p id="popup" style="color: white; bottom: 0px; left: 50%; width: 200px; height: 20px; opacity: 0.5; display: none; z-index: 9000; position: absolute; background-color: midnightblue;">
        </p>

        <!-- debugging -->
        <canvas id="can" style="position: absolute; z-index: 1337; top: 0px;"></canvas>
    </body>
</html>